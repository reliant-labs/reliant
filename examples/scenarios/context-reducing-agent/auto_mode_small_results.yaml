# Auto mode with small tool results
name: auto_mode_small_results
description: Auto mode with tool calls producing small results - direct save path
inputs:
  mode: "auto"
events:
  # First iteration: LLM requests a tool
  - node: agent_loop.call_llm
    output:
      message:
        role: assistant
        text: "Let me check that file."
      response_text: "Let me check that file."
      tool_calls:
        - id: call_0
          name: view
          input:
            file_path: "/path/to/small-file.go"
  # Tool returns small result (< 4000 chars)
  - node: agent_loop.execute_tools
    output:
      message:
        role: tool
        text: ""
      tool_results:
        - tool_call_id: call_0
          content: 'package main\n\nfunc hello() string {\n\treturn "world"\n}'
      total_result_chars: 50
      thread_token_count: 500
  # Second iteration: final response
  - node: agent_loop.call_llm
    output:
      message:
        role: assistant
        text: "The file contains a simple hello function."
      response_text: "The file contains a simple hello function."
      tool_calls: []
expect:
  outcome: completed
  reached:
    - agent_loop
    - agent_loop.call_llm
    - agent_loop.execute_tools
    - agent_loop.save_tool_results
  not_reached:
    - agent_loop.approval
    - agent_loop.filter_results
    - agent_loop.execute_filter
    - agent_loop.save_filtered_results
