# Happy Path: LLM responds without tool calls
#
# Tests the simplest successful path through the agent workflow:
# 1. LLM is called
# 2. LLM responds with text only (no tool calls)
# 3. Loop exits because no tool calls
#
# This verifies the basic agent loop termination condition works.

name: happy_path
description: LLM responds without tool calls, loop exits after 1 iteration

events:
  # First (and only) LLM call - responds with just text, no tools
  - node: agent_loop.call_llm
    type: llm_response
    text: "Hello! How can I help you today?"
    # No tool_calls means the loop should exit

expect:
  outcome: completed
  reached:
    - agent_loop
    - agent_loop.call_llm
  not_reached:
    # No tools called, so these shouldn't execute
    - agent_loop.approval
    - agent_loop.execute_tools
    - agent_loop.compact
    # Max turns notification shouldn't appear
    - max_turns_notification
